
<%= render partial: 'partials/subject_breadcrumb', locals: {subject: @subject} %>

<div class="core-data">
  <% if ! @subject.name.nil? %>
    <h1><%= @subject.name %></h1>
  <% end %>

  <img src="<%= @subject.location["standard"] %>" width="300"/>

  <dl>

    <dt>Type</dt>
    <dd><%= @subject.type %><% if @subject.type != 'root' %> (User-defined)<% end %></dd>

    <dt>Appears in Workflow:</dt>
    <dd><%= @subject.workflow.name %></dd>

    <dt>Source Size:</dt>
    <dd><%= @subject.width %> x <%= @subject.height %></dd>

    <dt>Metadata</dt>
    <dd>
      <% if @subject.meta_data.nil? %>
        &mdash;
      <% else %>
        <%= render partial: 'partials/data_hash', locals: {hash: @subject.meta_data} %> 
      <% end %>
    </dd>


  </dl>
</div>

<div class="supplied-data">
  <h2>User Data</h2>
  <dl>
    <dt>Region</dt>
    <dd>
      <% if @subject.region.nil? %>
        &mdash;
      <% else %>
        <%= render partial: 'partials/data_hash', locals: {hash: @subject.region} %> 
      <% end %>
    </dd>

    <dt>Data</dt>
    <dd>
      <% if @subject.data.nil? %>
        &mdash;
      <% else %>
        <%= render partial: 'partials/data_hash', locals: {hash: @subject.data} %> 
      <% end %>
    </dd>

    <dt>Status</dt>
    <dd><%= @subject.status %> </dd>

    <dt>Classifications</dt>
    <dd><%= @subject.classification_count %></dd>

    <dt>Child Subjects (<%= @subject.secondary_subject_count %>)<dt>
    <dd>
      <% if @subject.child_subjects.count == 0 %>
        &mdash;
      <% else %>
        <ol>
        <% @subject.child_subjects.each do |child| %>
          <li>
            <a href="<%= admin_subject_path(child) %>"><%= child.type %></a>
          </li>
        <% end %>
        </ol>
      <% end %>
    </dd>

    <dt>Retire Count:</dt>
    <dd> <% if @subject.retire_count.nil? %>&mdash;<% else %><% @subject.retire_count %><% end %> </dd> 
  </dl>
</div>

