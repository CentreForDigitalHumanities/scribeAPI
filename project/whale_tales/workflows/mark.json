{
  "name":"mark",
  "label":"Mark Workflow",
  "subject_fetch_limit":     10,
  "subject_request_scope": "active_root",
  "generates_subjects": true,
  "generates_subjects_after": 1,
  "generates_subjects_for": "transcribe",

  "first_task":"location_present",

  "tasks":{

    "location_present": {
      "tool": "pickOneDropdown",
      "instruction": "Is there location/position information present?",
      "tool_config": {
        "options": {
          "present": {
            "label": "Yes",
            "next_task": "location"
          },
          "mentioned": {
            "label": "No",
            "next_task": "sea_ice_present"
          }
        }
      }
    },

    "location": {
      "generates_subjects": true,
      "tool":"pickOneMarkOne",
      "instruction":"Pick a position/location option. Draw a rectangle around the corresponding text.",
      "tool_config": {
        "tools": [
          {"type": "rectangleTool", "label": "Name of Location",         "color": "red", "generates_subject_type": "location_name" },
          {"type": "rectangleTool", "label": "Geographic Coordinates",   "color": "red", "generates_subject_type": "location_coordinates" },
          {"type": "rectangleTool", "label": "Port",                     "color": "red", "generates_subject_type": "location_port" },
          {"type": "rectangleTool", "label": "Other",                    "color": "red", "generates_subject_type": "location_other" }
        ]
      },
      "next_task": "sea_ice_present"
    },

    "sea_ice_present": {
      "tool": "pickOne",
      "instruction": "Is there any sea ice present?",
      "tool_config": {
        "options": {
          "present": {
            "label": "Yes, sea ice present",
            "next_task": "sea_ice"
          },
          "mentioned": {
            "label": "No, but sea ice mentioned",
            "next_task": "sea_ice_mention"
          },
          "not-present": {
            "label": "No",
            "next_task": "weather_present"
          }
        }
      }
    },

    "sea_ice": {
      "generates_subjects": true,
      "tool":"pickOneMarkOne",
      "instruction":"Pick a sea ice description. Draw a rectangle around the corresponding text.",
      "tool_config": {
        "tools": [
          {"type": "rectangleTool", "label": "Date",                     "color": "red", "generates_subject_type": "sea_ice_date" },
          {"type": "rectangleTool", "label": "Sea Ice Description",      "color": "red", "generates_subject_type": "sea_ice_description" },
          {"type": "rectangleTool", "label": "Other Desciptions",        "color": "red", "generates_subject_type": "sea_ice_other_description" }
        ]
      },
      "next_task": "sea_ice_present"
    },

    "sea_ice_mention": {
      "tool": "pickMany",
      "instruction": "Are any of the following mentions of sea ice present? If so, click on them.",
      "tool_config": {
        "options": [
          {"value": "ice_field",   "label": "Ice Field" },
          {"value": "floe",        "label": "Floe" },
          {"value": "drift_ice",   "label": "Drift Ice" },
          {"value": "sailing_ice", "label": "Sailing Ice" },
          {"value": "pack_ice",    "label": "Pack Ice" }
        ]
      }
    },

    "weather_present": {
      "tool": "pickOne",
      "instruction": "Are there any descriptions of the weather?",
      "tool_config": {
        "options": {
          "present": { "label": "Yes",  "next_task": "weather" },
          "mentioned": { "label": "No", "next_task": "optional_entries"}
        }
      }
    },

    "weather": {
      "generates_subjects": true,
      "tool":"pickOneMarkOne",
      "instruction":"Pick a weather description. Draw a rectangle around the corresponding text.",
      "tool_config": {
        "tools": [
          {"type": "rectangleTool", "label": "Date",                     "color": "red", "generates_subject_type": "weather_date" },
          {"type": "rectangleTool", "label": "Wind Force/Direction",     "color": "red", "generates_subject_type": "weather_wind" },
          {"type": "rectangleTool", "label": "Sky/Cloud Description",    "color": "red", "generates_subject_type": "weather_sky" },
          {"type": "rectangleTool", "label": "Precipitation",            "color": "red", "generates_subject_type": "weather_precipitation" },
          {"type": "rectangleTool", "label": "Sea State",                "color": "red", "generates_subject_type": "weather_sea" },
          {"type": "rectangleTool", "label": "Temperature",              "color": "red", "generates_subject_type": "weather_temperature" },
          {"type": "rectangleTool", "label": "Barometric Pressure",      "color": "red", "generates_subject_type": "weather_pressure" },
          {"type": "rectangleTool", "label": "Other Weather Desciption", "color": "red", "generates_subject_type": "weather_other_description" }
        ]
      },
      "next_task": "optional_entries"
    },

    "optional_entries": {
      "tool": "pickOne",
      "instruction": "Select any additional items that are present/mentioned.",
      "tool_config": {
        "options": {
          "present": {
            "label": "Event",
            "next_task": "events"
          },
          "mentioned": {
            "label": "Art",
            "next_task": "art"
          },
          "not-present": {
            "label": "Whale(s)",
            "next_task": "whale"
          },
          "not-present": {
            "label": "People/Social",
            "next_task": "people"
          }
        }
      }
    },

    "events": {
      "generates_subjects": true,
      "tool":"pickOneMarkOne",
      "instruction":"Pick an event and mark it on the document.",
      "tool_config": {
        "tools": [
          {"type": "rectangleTool", "label": "Whaling Activity",         "color": "red", "generates_subject_type": "event_whaling_activity" },
          {"type": "rectangleTool", "label": "Ship Interaction",         "color": "red", "generates_subject_type": "event_ship_interaction" },
          {"type": "rectangleTool", "label": "Interaction with Natives", "color": "red", "generates_subject_type": "event_natie_interaction" },
          {"type": "rectangleTool", "label": "Social",                   "color": "red", "generates_subject_type": "event_unusual_occurrence" }
        ]
      },
      "next_task": "records_present"
    },

    "art": {
      "generates_subjects": true,
      "tool":"pickOneMarkOne",
      "instruction":"Pick an event and mark it on the document.",
      "tool_config": {
        "tools": [
          {"type": "rectangleTool", "label": "Illustration",             "color": "red", "generates_subject_type": "event_whaling_activity" },
          {"type": "rectangleTool", "label": "Poem",                     "color": "red", "generates_subject_type": "event_ship_interaction" },
          {"type": "rectangleTool", "label": "Clipping",                 "color": "red", "generates_subject_type": "event_natie_interaction" },
          {"type": "rectangleTool", "label": "Whale/Stamp",              "color": "red", "generates_subject_type": "event_unusual_occurrence" },
          {"type": "rectangleTool", "label": "Other",                    "color": "red", "generates_subject_type": "event_unusual_occurrence" }
        ]
      },
      "next_task": "records_present"
    },

    "debug": {
      "generates_subjects": true,
      "tool":"pickOneMarkOne",
      "instruction":"Pick a tool and mark each record:",
      "tool_config": {
        "tools": [
          {"type": "pointTool",     "label": "Point Tool",    "color": "red",   "generates_subject_type": "transcribe_point" },
          {"type": "rectangleTool", "label": "Drawing/Note",  "color": "green", "generates_subject_type": "transcribe_rectangle" },
          {"type": "textRowTool",   "label": "Journal Entry", "color": "blue",  "generates_subject_type": "transcribe_text_row" }
        ]
      },
      "next_task": "records_present"
    }
  }
}
