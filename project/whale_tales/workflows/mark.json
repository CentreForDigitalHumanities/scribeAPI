{
  "name":"mark",
  "label":"Mark Workflow",
  "subject_fetch_limit": "10",
  "generates_subjects": true,
  "generates_subjects_for": "transcribe",
  "first_task": "date_present",

  "tasks":{

    "date_present": {
      "tool": "pickOne",
      "instruction": "Are there any date entries present?",
      "help": {
        "title": "Date",
        "body": "Typically each log entry begins with a date."
      },
      "tool_config": {
        "options": {
          "yes": { "label": "Yes", "next_task": "date" },
          "no": { "label": "No"}
        }
      },
      "next_task": "location_present"
    },

    "date": {
      "generates_subjects": true,
      "tool":"pickOneMarkOne",
      "instruction":"Draw a rectangle around the date.",
      "tool_config": {
        "tools": [
          {"type": "rectangleTool", "label": "Date", "color": null, "generates_subject_type": "date" }
        ]
      },
      "next_task": "location_present"
    },

    "location_present": {
      "tool": "pickOne",
      "instruction": "Is there location/position information present?",
      "help": {
        "title": "Ship Location and Position",
        "body": "This can be anything from the name of a port to the exact geographical coordinates."
      },
      "tool_config": {
        "options": {
          "yes": { "label": "Yes", "next_task": "location" },
          "no": { "label": "No"}
        }
      },
      "next_task": "sea_ice_present"
    },

    "location": {
      "generates_subjects": true,
      "tool":"pickOneMarkOne",
      "instruction":"Pick a position/location option. Draw a rectangle around the corresponding text.",
      "tool_config": {
        "tools": [
          {"type": "rectangleTool", "label": "Name of Location",       "color": null, "generates_subject_type": "location_name" },
          {"type": "rectangleTool", "label": "Geographic Coordinates", "color": null, "generates_subject_type": "location_coordinates" },
          {"type": "rectangleTool", "label": "Port",                   "color": null, "generates_subject_type": "location_port" },
          {"type": "rectangleTool", "label": "Other",                  "color": null, "generates_subject_type": "location_other" }
        ]
      },
      "next_task": "sea_ice_present"
    },


    "sea_ice_present": {
      "tool": "pickOne",
      "instruction": "Are there any mentions of sea ice?",
      "help": {
        "title": "Mentions of Sea Ice",
        "body": "The presence of sea ice is important to climate studies. Even knowing that sea ice was mentioned is useful. Often, descriptions of the sailing conditions infer the presence of ice. When possible, continue on to tag specific technical descriptions."
      },
      "next_task": "weather_present",
      "tool_config": {
        "options": {
          "yes": {
            "label": "Yes",
            "next_task": "sailing_condition_present"
          },
          "no": {
            "label": "No"
          }
        }
      }
    },

    "sea_ice": {
      "tool": "pickOne",
      "instruction": "Is there a specific description of sea ice?",
      "next_task": "weather_present",
      "tool_config": {
        "options": [
          {"value": "sea_ice_concentration",  "label": "Concentration Description", "next_task": "sea_ice_concentration" },
          {"value": "sea_ice_thickness",      "label": "Thickness Description",     "next_task": "sea_ice_thickness" },
          {"value": "sea_ice_special",        "label": "Special Features",          "next_task": "sea_ice_special" },
          {"value": "sea_ice_no_description", "label": "No",                        "next_task": "weather_present" }
        ]
      }
    },

    "sea_ice_concentration": {
      "tool": "pickMany",
      "instruction": "Select all sea ice descriptions that apply.",
      "tool_config": {
        "options": [
          {"value": "ice_field",   "label": "Ice Field" },
          {"value": "floe",        "label": "Floe" },
          {"value": "drift_ice",   "label": "Drift Ice" },
          {"value": "sailing_ice", "label": "Sailing Ice" },
          {"value": "pack_ice",    "label": "Pack Ice" }
        ]
      },
      "next_task": "sea_ice"
    },


    "sea_ice_thickness": {
    "tool": "pickMany",
    "instruction": "Select all sea ice descriptions that apply.",
    "tool_config": {
      "options": [
        {"value": "bay_ice",   "label": "Bay Ice" },
        {"value": "sludge",    "label": "Sludge" },
        {"value": "brash",     "label": "Brash" },
        {"value": "light_ice", "label": "Light Ice" },
        {"value": "heavy_ice", "label": "Heavy Ice" },
        {"value": "hummock",   "label": "Hummock" }
      ]
    },
    "next_task": "sea_ice"
    },

    "sea_ice_special": {
    "tool": "pickMany",
    "instruction": "Select all sea ice descriptions that apply.",
    "tool_config": {
      "options": [
        {"value": "melt_ponds",      "label": "Melt Ponds" },
        {"value": "snow_on_sea_ice", "label": "Snow On Sea Ice" },
        {"value": "land_ice",        "label": "Land Ice" },
        {"value": "floeberg",        "label": "Floeberg" },
        {"value": "iceberg",         "label": "Iceberg" }
      ]
    },
    "next_task": "sea_ice"
    },

    "sailing_condition_present": {
      "tool": "pickOne",
      "instruction": "Are there any descriptions of the sailing conditions with respect to sea ice?",
      "help": {
        "title": "Sailing Description and Sea Ice",
        "body": "We are primarily interested in sailing conditions in the context of sea ice."
      },
      "next_task": "sea_ice",
      "tool_config": {
        "options": {
          "yes": {
            "label": "Yes",
            "next_task": "sailing_condition"
          },
          "no": {
            "label": "No",
            "next_task": "sea_ice"
          }
        }
      }
    },
    "sailing_condition": {
      "tool": "pickOneMarkOne",
      "instruction": "Pick the type of description that best matches the text and draw a rectangle around it.",
      "tool_config": {
        "tools": [
          {"type": "rectangleTool",  "label": "Open Water Near Ice",        "color": null, "generates_subject_type": "sailing_condition_open_water" },
          {"type": "rectangleTool",  "label": "Occasional Ice",             "color": null, "generates_subject_type": "sailing_condition_occasional_ice" },
          {"type": "rectangleTool",  "label": "Dodging Ice",                "color": null, "generates_subject_type": "sailing_condition_dodging_ice" },
          {"type": "rectangleTool",  "label": "Sailing in Leads",           "color": null, "generates_subject_type": "sailing_condition_leads" },
          {"type": "rectangleTool",  "label": "Ramming Pack Ice",           "color": null, "generates_subject_type": "sailing_condition_ramming" },
          {"type": "rectangleTool",  "label": "Waiting for Opening in Ice", "color": null, "generates_subject_type": "sailing_condition_waiting" },
          {"type": "rectangleTool",  "label": "Beset/Trapped in Ice",       "color": null, "generates_subject_type": "sailing_condition_trapped" },
          {"type": "rectangleTool",  "label": "Nipped/Damaged",             "color": null, "generates_subject_type": "sailing_condition_damaged" },
          {"type": "rectangleTool",  "label": "Wrecked",                    "color": null, "generates_subject_type": "sailing_condition_wrecked" },
          {"type": "rectangleTool",  "label": "Other",                      "color": null, "generates_subject_type": "sailing_condition_other" }
        ]
      },
      "next_task": "sea_ice"
    },

    "weather_present": {
      "tool": "pickOne",
      "instruction": "Are there any descriptions of the weather?",
      "next_task": "optional_entries",
      "tool_config": {
        "options": {
          "present": { "label": "Yes",  "next_task": "weather" },
          "mentioned": { "label": "No" }
        }
      }
    },

    "weather": {
      "generates_subjects": true,
      "tool":"pickOneMarkOne",
      "instruction":"Pick a weather description. Draw a rectangle around the corresponding text.",
      "tool_config": {
        "tools": [
          {"type": "rectangleTool", "label": "Wind Force/Direction",     "color": null, "generates_subject_type": "weather_wind" },
          {"type": "rectangleTool", "label": "Sky/Cloud Description",    "color": null, "generates_subject_type": "weather_sky" },
          {"type": "rectangleTool", "label": "Precipitation",            "color": null, "generates_subject_type": "weather_precipitation" },
          {"type": "rectangleTool", "label": "Sea State",                "color": null, "generates_subject_type": "weather_sea" },
          {"type": "rectangleTool", "label": "Temperature",              "color": null, "generates_subject_type": "weather_temperature" },
          {"type": "rectangleTool", "label": "Barometric Pressure",      "color": null, "generates_subject_type": "weather_pressure" },
          {"type": "rectangleTool", "label": "Other Weather Desciption", "color": null, "generates_subject_type": "weather_other_description" }
        ]
      },
      "next_task": "optional_entries"
    },

    "optional_entries": {
      "tool": "pickOne",
      "instruction": "Select any additional items that are present/mentioned.",
      "next_task": null,
      "tool_config": {
        "options": {
          "event": {
            "label": "Event",
            "next_task": "events"
          },
          "art": {
            "label": "Art",
            "next_task": "art"
          }
        }
      }
    },

    "events": {
      "generates_subjects": true,
      "tool":"pickOneMarkOne",
      "instruction":"Pick an event and mark it on the document.",
      "tool_config": {
        "tools": [
          {"type": "rectangleTool", "label": "Whaling Activity",         "color": null, "generates_subject_type": "event_whaling_activity" },
          {"type": "rectangleTool", "label": "Ship Interaction",         "color": null, "generates_subject_type": "event_ship_interaction" },
          {"type": "rectangleTool", "label": "Interaction with Natives", "color": null, "generates_subject_type": "event_native_interaction" },
          {"type": "rectangleTool", "label": "Social",                   "color": null, "generates_subject_type": "event_social" },
          {"type": "rectangleTool", "label": "Other",                    "color": null, "generates_subject_type": "event_other" }
        ]
      },
      "next_task": "optional_entries"
    },

    "art": {
      "generates_subjects": true,
      "tool":"pickOneMarkOne",
      "instruction":"Pick a type of art and mark it on the document.",
      "tool_config": {
        "tools": [
          {"type": "rectangleTool", "label": "Illustration", "color": null, "generates_subject_type": "art_illustration" },
          {"type": "rectangleTool", "label": "Poem",         "color": null, "generates_subject_type": "art_poem" },
          {"type": "rectangleTool", "label": "Clipping",     "color": null, "generates_subject_type": "art_clipping" },
          {"type": "rectangleTool", "label": "Whale/Stamp",  "color": null, "generates_subject_type": "art_whale_stamp" },
          {"type": "rectangleTool", "label": "Other",        "color": null, "generates_subject_type": "art_other" }
        ]
      },
      "next_task": "optional_entries"
    },
    "debug": {
      "generates_subjects": true,
      "tool":"pickOneMarkOne",
      "instruction":"Generates textTool transcribe subjects:",
      "tool_config": {
        "tools": [
          {"type": "pointTool",     "label": "Point Tool",      "color": "pink",   "generates_subject_type": "transcribe_point_with_text_tool" },
          {"type": "rectangleTool", "label": "Rectangle Tool",  "color": "brown", "generates_subject_type": "transcribe_rectangle_with_text_tool" },
          {"type": "textRowTool",   "label": "Text Row Tool",   "color": "magenta",  "generates_subject_type": "transcribe_text_row_with_text_tool" }
        ]
      },
      "next_task": "debug_with_text_area_tool"
    },
    "debug_with_text_area_tool": {
      "generates_subjects": true,
      "tool":"pickOneMarkOne",
      "instruction":"Generates textAreaTool transcribe subjects:",
      "tool_config": {
        "tools": [
          {"type": "pointTool",     "label": "Point Tool",      "color": null,   "generates_subject_type": "transcribe_point_with_text_area_tool" },
          {"type": "rectangleTool", "label": "Rectangle Tool",  "color": null, "generates_subject_type": "transcribe_rectangle_with_text_area_tool" },
          {"type": "textRowTool",   "label": "Text Row Tool",   "color": null,  "generates_subject_type": "transcribe_text_row_with_text_area_tool" }
        ]
      },
      "next_task": "debug_with_composite_text_tool_and_text_area_tool"
    },
    "debug_with_composite_text_tool_and_text_area_tool": {
      "generates_subjects": true,
      "tool":"pickOneMarkOne",
      "instruction":"Generates composite tool (textTool and textAreaTool) transcribe subjects:",
      "tool_config": {
        "tools": [
          {"type": "pointTool",     "label": "Point Tool",      "color": null,   "generates_subject_type": "transcribe_point_with_composite_text_tool_and_text_area_tool" },
          {"type": "rectangleTool", "label": "Rectangle Tool",  "color": null, "generates_subject_type": "transcribe_rectangle_with_composite_text_tool_and_text_area_tool" },
          {"type": "textRowTool",   "label": "Text Row Tool",   "color": null,  "generates_subject_type": "transcribe_text_row_with_composite_text_tool_and_text_area_tool" }
        ]
      },
      "next_task": null
    }


  }
}
