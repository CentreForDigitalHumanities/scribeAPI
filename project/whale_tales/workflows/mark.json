{
  "name":"mark",
  "label":"Mark Workflow",
  "subject_fetch_limit": "10",
  "generates_subjects": true,
  "generates_subjects_for": "transcribe",

  "first_task":"debug",

  "tasks":{
    "location_present": {
      "tool": "pickOne",
      "instruction": "Is there location/position information present?",
      "tool_config": {
        "options": {
          "yes": { "label": "Yes", "next_task": "location" },
          "no": { "label": "No", "next_task": "sea_ice_present" }
        }
      }
    },

    "location": {
      "generates_subjects": true,
      "tool":"pickOneMarkOne",
      "instruction":"Pick a position/location option. Draw a rectangle around the corresponding text.",
      "tool_config": {
        "tools": [
          {"type": "rectangleTool", "label": "Name of Location",         "color": "red", "generates_subject_type": "location_name" },
          {"type": "rectangleTool", "label": "Geographic Coordinates",   "color": "red", "generates_subject_type": "location_coordinates" },
          {"type": "rectangleTool", "label": "Port",                     "color": "red", "generates_subject_type": "location_port" },
          {"type": "rectangleTool", "label": "Other",                    "color": "red", "generates_subject_type": "location_other" }
        ]
      },
      "next_task": "sea_ice_present"
    },

    "sea_ice_present": {
      "tool": "pickOne",
      "instruction": "Are there any mentions of sea ice?",
      "tool_config": {
        "options": {
          "yes": {
            "label": "Yes",
            "next_task": "sea_ice"
          },
          "no": {
            "label": "No",
            "next_task": "weather_present"
          }
        }
      }
    },

    "sea_ice": {
      "tool": "pickOne",
      "instruction": "Is there any (other) description of the sea ice?",
      "tool_config": {
        "options": [
          {"value": "sea_ice_concentration",  "label": "Concentration Description", "next_task": "sea_ice_concentration" },
          {"value": "sea_ice_thickness",      "label": "Thickness Description",     "next_task": "sea_ice_thickness" },
          {"value": "sea_ice_special",        "label": "Special Features",         "next_task": "sea_ice_special" },
          {"value": "sea_ice_no_description", "label": "No",                        "next_task": "weather_present" }
        ]
      }
    },

    "sea_ice_concentration": {
      "tool": "pickMany",
      "instruction": "Select all sea ice descriptions that apply.",
      "tool_config": {
        "options": [
          {"value": "ice_field",   "label": "Ice Field" },
          {"value": "floe",        "label": "Floe" },
          {"value": "drift_ice",   "label": "Drift Ice" },
          {"value": "sailing_ice", "label": "Sailing Ice" },
          {"value": "pack_ice",    "label": "Pack Ice" }
        ]
      },
      "next_task": "sea_ice"
    },


  "sea_ice_thickness": {
    "tool": "pickMany",
    "instruction": "Select all sea ice descriptions that apply.",
    "tool_config": {
      "options": [
        {"value": "baby_ice",  "label": "Baby Ice" },
        {"value": "sludge",    "label": "Sludge" },
        {"value": "brash",     "label": "Brash" },
        {"value": "light_ice", "label": "Light Ice" },
        {"value": "heavy_ice", "label": "Heavy Ice" },
        {"value": "hummock",   "label": "Hummock" }
      ]
    },
    "next_task": "sea_ice"
  },

  "sea_ice_special": {
    "tool": "pickMany",
    "instruction": "Select all sea ice descriptions that apply.",
    "tool_config": {
      "options": [
        {"value": "melt_ponds",      "label": "Melt Ponds" },
        {"value": "snow_on_sea_ice", "label": "Snow On Sea Ice" },
        {"value": "land_ice",        "label": "Land Ice" },
        {"value": "floeberg",        "label": "Floeberg" },
        {"value": "iceberg",         "label": "Iceberg" }
      ]
    },
    "next_task": "sea_ice"
  },




    "weather_present": {
      "tool": "pickOne",
      "instruction": "Are there any descriptions of the weather?",
      "tool_config": {
        "options": {
          "present": { "label": "Yes",  "next_task": "weather" },
          "mentioned": { "label": "No", "next_task": "optional_entries"}
        }
      }
    },

    "weather": {
      "generates_subjects": true,
      "tool":"pickOneMarkOne",
      "instruction":"Pick a weather description. Draw a rectangle around the corresponding text.",
      "tool_config": {
        "tools": [
          {"type": "rectangleTool", "label": "Date",                     "color": "red", "generates_subject_type": "weather_date" },
          {"type": "rectangleTool", "label": "Wind Force/Direction",     "color": "red", "generates_subject_type": "weather_wind" },
          {"type": "rectangleTool", "label": "Sky/Cloud Description",    "color": "red", "generates_subject_type": "weather_sky" },
          {"type": "rectangleTool", "label": "Precipitation",            "color": "red", "generates_subject_type": "weather_precipitation" },
          {"type": "rectangleTool", "label": "Sea State",                "color": "red", "generates_subject_type": "weather_sea" },
          {"type": "rectangleTool", "label": "Temperature",              "color": "red", "generates_subject_type": "weather_temperature" },
          {"type": "rectangleTool", "label": "Barometric Pressure",      "color": "red", "generates_subject_type": "weather_pressure" },
          {"type": "rectangleTool", "label": "Other Weather Desciption", "color": "red", "generates_subject_type": "weather_other_description" }
        ]
      },
      "next_task": "optional_entries"
    },

    "optional_entries": {
      "tool": "pickOne",
      "instruction": "Select any additional items that are present/mentioned.",
      "tool_config": {
        "options": {
          "event": {
            "label": "Event",
            "next_task": "events"
          },
          "art": {
            "label": "Art",
            "next_task": "art"
          }
        }
      }
    },

    "events": {
      "generates_subjects": true,
      "tool":"pickOneMarkOne",
      "instruction":"Pick an event and mark it on the document.",
      "tool_config": {
        "tools": [
          {"type": "rectangleTool", "label": "Whaling Activity",         "color": "red", "generates_subject_type": "event_whaling_activity" },
          {"type": "rectangleTool", "label": "Ship Interaction",         "color": "red", "generates_subject_type": "event_ship_interaction" },
          {"type": "rectangleTool", "label": "Interaction with Natives", "color": "red", "generates_subject_type": "event_native_interaction" },
          {"type": "rectangleTool", "label": "Social",                   "color": "red", "generates_subject_type": "event_social" },
          {"type": "rectangleTool", "label": "Other",                    "color": "red", "generates_subject_type": "event_other" }

        ]
      },
      "next_task": "records_present"
    },

    "art": {
      "generates_subjects": true,
      "tool":"pickOneMarkOne",
      "instruction":"Pick an event and mark it on the document.",
      "tool_config": {
        "tools": [
          {"type": "rectangleTool", "label": "Illustration",             "color": "red", "generates_subject_type": "art_illustration" },
          {"type": "rectangleTool", "label": "Poem",                     "color": "red", "generates_subject_type": "art_poem" },
          {"type": "rectangleTool", "label": "Clipping",                 "color": "red", "generates_subject_type": "art_clipping" },
          {"type": "rectangleTool", "label": "Whale/Stamp",              "color": "red", "generates_subject_type": "art_whale_stamp" },
          {"type": "rectangleTool", "label": "Other",                    "color": "red", "generates_subject_type": "art_other" }
        ]
      },
      "next_task": "records_present"
    },







    "debug": {
      "generates_subjects": true,
      "tool":"pickOneMarkOne",
      "instruction":"Generates textTool transcribe subjects:",
      "tool_config": {
        "tools": [
          {"type": "pointTool",     "label": "Point Tool",    "color": "red",   "generates_subject_type": "transcribe_point_with_text_tool" },
          {"type": "rectangleTool", "label": "Rectangle Tool",  "color": "green", "generates_subject_type": "transcribe_rectangle_with_text_tool" },
          {"type": "textRowTool",   "label": "Text Row Tool", "color": "blue",  "generates_subject_type": "transcribe_text_row_with_text_tool" }
        ]
      },
      "next_task": "debug_with_text_area_tool"
    },
    "debug_with_text_area_tool": {
      "generates_subjects": true,
      "tool":"pickOneMarkOne",
      "instruction":"Generates textAreaTool transcribe subjects:",
      "tool_config": {
        "tools": [
          {"type": "pointTool",     "label": "Point Tool",    "color": "red",   "generates_subject_type": "transcribe_point_with_text_area_tool" },
          {"type": "rectangleTool", "label": "Rectangle Tool",  "color": "green", "generates_subject_type": "transcribe_rectangle_with_text_area_tool" },
          {"type": "textRowTool",   "label": "Text Row Tool", "color": "blue",  "generates_subject_type": "transcribe_text_row_with_text_area_tool" }
        ]
      },
      "next_task": "debug_with_composite_text_tool_and_text_area_tool"
    },
    "debug_with_composite_text_tool_and_text_area_tool": {
      "generates_subjects": true,
      "tool":"pickOneMarkOne",
      "instruction":"Generates composite tool (textTool and textAreaTool) transcribe subjects:",
      "tool_config": {
        "tools": [
          {"type": "pointTool",     "label": "Point Tool",    "color": "red",   "generates_subject_type": "transcribe_point_with_composite_text_tool_and_text_area_tool" },
          {"type": "rectangleTool", "label": "Rectangle Tool",  "color": "green", "generates_subject_type": "transcribe_rectangle_with_composite_text_tool_and_text_area_tool" },
          {"type": "textRowTool",   "label": "Text Row Tool", "color": "blue",  "generates_subject_type": "transcribe_text_row_with_composite_text_tool_and_text_area_tool" }
        ]
      },
      "next_task": null
    }


  }
}
